<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>linux下快速使用goagent - 起飞科技</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta content="linux下快速使用goagent" name="keywords" />
<meta content="linux下快速使用goagent" name="description" />
<link href="/templets/img_v4/all.css" rel="stylesheet" type="text/css" />
</head>

<body>

<!-- @ Begin : Navigation -->
<div class="navigation">
  <div class="nav_top">
      <div class="logoLink"><a href="http://www.dedecms.com/"><img src="/templets/img_v4/blank_002.gif" alt="六房间" border="0" vspace="0"/></a></div>
  <div class="top">
    <ul>
        <li><a href="/member/article_add.php" target="_blank" class="cGreen">发布资源</a></li>
		<li><a href="/member" target="_blank" class="cGreen">会员中心</a></li>
        <li><a href="javascript:JSAddFavorite();">加入收藏</a></li>
        <li><a href="/plus/heightsearch.php">高级搜索</a></li>
        <li><a href="/plus/rssmap.html">RSS订阅</a></li>
    </ul>
  </div>
  <div id="search">
  <form action="/plus/search.php" name="formsearch">
      <input type="hidden" name="kwtype" value="0">
      <input name="keyword" type="text" id="keyword" size="20" class="search_input" style="width:358px;">
	  <input name="imageField2" type="image" src="/templets/img_v4/search.gif" alt="搜索" class="search_img" width="80" height="21" border="0">
      </form>
  </div>
  </div>

  <div id="nav_menu">
    <div class="nav_a"></div>
    <div class="nav_b">
      <ul>
          <li class="l"><a href="/">首页</a></li>
          
          <li class="l"><a href='/a/mynews/'>新闻中心</a></li>
          
          <li class="l"><a href='/a/pics/'>精美图集</a></li>
          
          <li class="l"><a href='/a/downloads/'>资料下载</a></li>
          
          <li class="l"><a href='/a/jishu/'>技术文档</a></li>
          
          <li class="l"><a href='http://localhost/book'>小说</a></li>
          
          <li class="l"><a href='http://localhost/plus/guestbook.php'>在线留言</a></li>
          
          <li><a href="/special/index.php">专题</a></li>
     </ul>
  </div>
  </div><!-- @ End nav_menu -->
</div><!-- @ End : Navigation -->

<div class="content"><!-- @ Begin : Content -->

<div class="c_side">
  <div class="box title_bg_1" style=" border: 1px solid rgb(255, 255, 255);">
  <div class="north"><div class="east"><div class="south"><div class="west"><div class="northeast"><div class="southeast"><div class="southwest"><div class="northwest">
      <div class="caption"><h4>相关内容</h4></div>
	  <ol class="links">
	  <li><a href="/a/jishu/2013/1009/133.html" target="_blank">CENTOS 6.4 安装后的配置</a></li>
<li><a href="/a/jishu/2013/1009/135.html" target="_blank">适合linux新手的书籍都有哪</a></li>
<li><a href="/a/jishu/2013/1009/132.html" target="_blank">UNiSYS推新服务器 Unix应用迁</a></li>
<li><a href="/a/jishu/2013/1009/131.html" target="_blank">linux下快速使用goagent</a></li>
<li><a href="/a/jishu/2013/1009/130.html" target="_blank">Linux主要特性</a></li>
<li><a href="/a/jishu/2013/1009/125.html" target="_blank">Linux启动流程</a></li>
<li><a href="/a/jishu/2013/1009/124.html" target="_blank">Linux使用技巧</a></li>
<li><a href="/a/jishu/2013/1009/123.html" target="_blank">Linux简介</a></li>
<li><a href="/a/jishu/2013/1009/121.html" target="_blank">Linux基础命令</a></li>
<li><a href="/a/jishu/2013/1008/117.html" target="_blank">linux学习技巧</a></li>

      </ol>
  </div></div></div></div></div></div></div></div>   </div>
  
  <div class="box title_bg_1" style=" border: 1px solid rgb(255, 255, 255);">
  <div class="north"><div class="east"><div class="south"><div class="west"><div class="northeast"><div class="southeast"><div class="southwest"><div class="northwest">
      <div class="caption"><h4>热门TOP10</h4></div>
	  <ol class="hot_links">
      <li><a href="/a/jishu/2013/1009/125.html" target="_blank">Linux启动流程</a></li>
<li><a href="/a/jishu/2013/1008/117.html" target="_blank">linux学习技巧</a></li>
<li><a href="/a/jishu/2013/1009/123.html" target="_blank">Linux简介</a></li>
<li><a href="/a/jishu/2013/1009/133.html" target="_blank">CENTOS 6.4 安装后的配置</a></li>
<li><a href="/a/jishu/2013/1009/124.html" target="_blank">Linux使用技巧</a></li>
<li><a href="/a/jishu/2013/1009/135.html" target="_blank">适合linux新手的书籍都有哪</a></li>
<li><a href="/a/jishu/2013/1009/121.html" target="_blank">Linux基础命令</a></li>
<li><a href="/a/jishu/2013/1009/130.html" target="_blank">Linux主要特性</a></li>
<li><a href="/a/jishu/2013/1009/131.html" target="_blank">linux下快速使用goagent</a></li>
<li><a href="/a/jishu/2013/1009/132.html" target="_blank">UNiSYS推新服务器 Unix应用迁</a></li>

      </ol>
  </div></div></div></div></div></div></div></div>   </div>
  
  <div class="box title_bg_1" style=" border: 1px solid rgb(255, 255, 255);">
  <div class="north"><div class="east"><div class="south"><div class="west"><div class="northeast"><div class="southeast"><div class="southwest"><div class="northwest">
      <div class="caption"><h4>推荐内容</h4></div>
	  <ol class="links_1">
      <li><a href="/a/jishu/2013/1009/133.html" target="_blank">CENTOS 6.4 安装后的配置</a></li>
<li><a href="/a/jishu/2013/1009/132.html" target="_blank">UNiSYS推新服务器 Unix应用迁</a></li>
<li><a href="/a/jishu/2013/1009/131.html" target="_blank">linux下快速使用goagent</a></li>
<li><a href="/a/jishu/2013/1009/130.html" target="_blank">Linux主要特性</a></li>
<li><a href="/a/jishu/2013/1009/125.html" target="_blank">Linux启动流程</a></li>
<li><a href="/a/jishu/2013/1009/124.html" target="_blank">Linux使用技巧</a></li>
<li><a href="/a/jishu/2013/1009/123.html" target="_blank">Linux简介</a></li>
<li><a href="/a/jishu/2013/1009/121.html" target="_blank">Linux基础命令</a></li>

      </ol>
  </div></div></div></div></div></div></div></div>   </div>
<div class="clear"></div></div><!-- @ End : C_side -->







<div class="c_main">
  <div id="c_article">
      <div class="top">
	    <div class="l"></div>
		<div class="c">
		  <div id="place">现在位置：<a href='http://localhost/'>主页</a> > <a href='/a/jishu/'>技术文档</a> >  文章内容</div>
		  <h1>linux下快速使用goagent</h1>
		  <div class="info"><span><a href="/plus/stow.php?arcID="><img src="/templets/img_v4/collection.gif" alt="收藏" /></a><a href="/member/article_add.php"><img src="/templets/img_v4/issuance.gif" alt="发布" /></a></span>更新日期：2013-10-09 点击：<script src="/plus/count.php?aid=&mid=&view=yes" language="javascript"></script></div>
		</div>
		<div class="r"></div>
	  </div>
  </div>
  
  
  <div id="end_text">
    
	goagent最新版下载地址：<a href="https://goagent.googlecode.com/archive/3.0.zip" target="_blank"><font color="#22229c">https://goagent.googlecode.com/archive/3.0.zip</font></a><br />
详细教程：<a href="https://code.google.com/p/goagent/wiki/InstallGuide" target="_blank"><font color="#22229c">https://code.google.com/p/goagent/wiki/InstallGuide</font></a> （相当详细）<br />
windwos用户跟着步骤一步一步来很容易的就可以在网上畅行无阻了，linux用户可能需要自己配置一下才行。<br />
我的平台是openSUSE12.3，这个平台都大同小异。最重要的是需要python运行环境，有的linux版本可能这个没有安装。这个就自己安装一下就好了。<br />
具体配置过程请见上面链接，今天我在学shell脚本，于是自己就想写一个简单一些的使用goagent的方法。这个想法源于每次启动goagent的时候都需要深入它的目录中，而且需要切换ipv6和ipv4的时候还要更改他的配置文件，我觉得这个有点麻烦，既然在linux平台下，应该想想怎样可以偷懒嘛。<br />
因为现在我刚学linux shell编程，所以技术还不成熟，所以此脚本还显得很繁琐，但是基本上是给我省了很多打开软件，修改配置文件的时间。<br />
<table border="0" cellpadding="0" cellspacing="0" width="90%">
	<tbody>
		<tr>
			<td>
				<div class="codetop">
					CODE:</div>
				<div class="codemain">
					#!/bin/bash<br />
					#filename: goagent.sh<br />
					#Create Time: 2013-October-04 06:58<br />
					#Author: getway<br />
					<br />
					#作用：方便的使用goagent的代理功能，当每次使用的时候，<br />
					# 无需再切换到相应的目录，而且在使用ipv6和ipv4切换的<br />
					# 时候也不用自己去改配置文件了<br />
					<br />
					#Usage:<br />
					# goagent [ --? ]<br />
					# [ -h | --help ]<br />
					# [ -4 | -ipv4 | --cn ]<br />
					# [ -6 | --ipv6 ]<br />
					# [ -s | --status | status]<br />
					# [ -v | --version ]<br />
					<br />
					log=/home/getway/Logs/myout.file<br />
					path=/home/getway/Downloads/goagent/local<br />
					PROGRAM=goagent<br />
					VERSION=1.0<br />
					<br />
					<br />
					usage()<br />
					{<br />
					cat &lt;&lt;EOF<br />
					Usage:<br />
					$PROGRAM [ --? ]<br />
					[ -h | --help ] see the help<br />
					[ -k | --kill ] kill the goagent<br />
					[ -4 | --ipv4 | --cn] use the ipv4 to access internet<br />
					[ -6 | --ipv6 ] use the ipv4 to access internet<br />
					[ -s | --status | status] show the status about the goagent<br />
					[ -l | --log | log ] show the log<br />
					[ --aduser ] add the goagent user<br />
					[ -v | --version ]<br />
					EOF<br />
					}<br />
					<br />
					usage_and_exit()<br />
					{<br />
					usage<br />
					exit $1<br />
					}<br />
					<br />
					version()<br />
					{<br />
					echo &quot;$PROGRAM version $VERSION&quot;<br />
					}<br />
					<br />
					kill_goagent()<br />
					{<br />
					killall -9 python2 2&gt;/dev/null<br />
					}<br />
					<br />
					run_goagent()<br />
					{ #run goagent sillent<br />
					nohup python2 $path/proxy.py &gt; $log 2&gt;&amp;1 &amp;<br />
					}<br />
					<br />
					#当没有参数时，默认以ipv4使用goagent代理<br />
					if [[ $# -eq 0 ]]<br />
					then<br />
					kill_goagent<br />
					sed -i &#39;11c profile = google_cn&#39; $path/proxy.ini<br />
					run_goagent<br />
					exit 0<br />
					fi<br />
					<br />
					#其他带参数情况的处理<br />
					case $1 in<br />
					-h | --help | --? | ?)<br />
					usage_and_exit<br />
					exit 0<br />
					;;<br />
					-v | --version)<br />
					version<br />
					exit 0<br />
					;;<br />
					-l | --log | log)<br />
					tail $log<br />
					exit 0<br />
					;;<br />
					-s | --status | status)<br />
					lsof -i:8087<br />
					exit 0<br />
					;;<br />
					-k | --kill)<br />
					kill_goagent<br />
					exit 0<br />
					;;<br />
					-4 | --cn | --ipv4 | ipv4 | -ipv4)<br />
					kill_goagent<br />
					sed -i &#39;11c profile = google_cn&#39; $path/proxy.ini<br />
					run_goagent<br />
					;;<br />
					-6 | --ipv6 | ipv6 | -ipv6)<br />
					kill_goagent<br />
					sed -i &#39;11c profile = google_ipv6&#39; $path/proxy.ini<br />
					run_goagent<br />
					;;<br />
					-*)<br />
					echo &quot;Unrecognized option: $1&quot;<br />
					;;<br />
					*)<br />
					break<br />
					;;<br />
					esac</div>
			</td>
		</tr>
	</tbody>
</table>
 <br /><br />
  <center><span class="f12px cGreen"></span></center>
                                                  		
  <div class="next">上一篇：<a href='/a/jishu/2013/1009/130.html'>Linux主要特性</a>  &nbsp; 下一篇：<a href='/a/jishu/2013/1009/132.html'>UNiSYS推新服务器 Unix应用迁移成本能降低60%！</a> </div>
 
  <div class="tool">
    [<a href="javascript:void(0);" onclick="copy_url()">点击复制本页地址发送给 QQ/MSN 好友</a>] [ <img src="/templets/img_v4/ico_05.gif" /><a href="/member/article_add.php">发布内容</a>][ <img src="/templets/img_v4/ico_06.gif" /><a href="mailto:6roomer@163.com">举报</a>][ <img src="/templets/img_v4/ico_07.gif" /><a href="#" onClick="window.close();">关闭窗口</a>][ <img src="/templets/img_v4/ico_08.gif" /><a href="#top">返回顶部</a>]  </div>
  </div>
  
	<div class="comment">
	   <div class="caption"><span><a href="/plus/feedback.php?arcID=131">所有评论</a></span><h4>评论列表</h4></div>
	   <script src="/plus/feedback_js.php?arcID=" language="javascript"></script> 
	   <form action="/plus/feedback.php?action=send" method="post" name="feedback">
       <p>
       <input type="hidden" name="arcID" value="131" />
       用户名： 
       <input name="username" type="text" id="username" class="input" size="12" onfocus="this.className='input_over'" onblur="this.className='input'" />
    （<a href="/member/index_do.php?fmdo=user&dopost=regnew" target="_blank" title="新注册"><span class="cDRed">新注册</span></a>） 
       密码： 
       <input name="pwd" type="text" id="pwd" class="input" size="12" onfocus="this.className='input_over'" onblur="this.className='input'" /> 
       <input name="notuser" type="checkbox" id="notuser" value="1" checked />
       匿名评论
       <input type='image' value='' src="/templets/img_v4/comment_sub.gif" class="comment_img" title="发表评论" name='sb' onClick='javascript:if(document.feedback.msg.value!="") document.feedback.submit(); else alert("评论内容不能为空！");' />
       <br /> <br />
       <textarea name="msg" title="评论内容不能为空!" id="msg" class="input" onfocus="this.className='input_over'" onblur="this.className='input'" style="width:680px; height:60px;"></textarea>
       </p>
       </form>
	</div>
<div class="clear"></div></div><!-- @ End : C_main -->

<div class="clear"></div></div><!-- @ End : Content -->


<!-- @ Begin : Footer -->
<div class="footer">
<a href="#" title="关于我们">关于我们</a><a href="#" title="版权声明">版权声明</a><a href="#" title="广告服务">广告服务</a><a href="#" title="联系站长">联系站长</a><a href="#" title="网站地图">网站地图</a><span class="footer_end"><a href="javascript:JSAddFavorite();" title="加入收藏">加入收藏</a></span>
<br /><br />
Copyright &copy;2004-2007 777fly.COM All Rights Reserved.</div>
<!-- @ End : Footer -->

<script language="JavaScript" type="text/javascript">
function copy_url()
{
    if(window.clipboardData)
    {
		window.clipboardData.setData("text",window.document.location.href);
		alert("复制成功,请粘贴到你的QQ/MSN推荐给你的好友");
    }
	else
	{
		alert("您的浏览器不支持该功能");
	}
}

function JSAddFavorite()

{

        if ( window.sidebar && "object" == typeof( window.sidebar ) && "function" == typeof( window.sidebar.addPanel ) )

        {

                //  firefox

                window.sidebar.addPanel( 'dedecms', 'http://www.dedecms.com/', '' );

        }

        else if ( document.all && "object" == typeof( window.external ) )

        {

                //  ie

                window.external.addFavorite( 'http://www.dedecms.com/', 'dedecms' );

        }

}

</script>
</div>
</body>
</html>
